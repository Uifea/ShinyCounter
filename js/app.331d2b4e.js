(function(){"use strict";var t={4026:function(t,e,o){var n=o(9242),a=o(3396);const r={class:"navigation"};function i(t,e,o,n,i,s){const u=(0,a.up)("RouterLink"),m=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",r,[(0,a.Wm)(u,{to:"/",class:"navigation__item"},{default:(0,a.w5)((()=>[(0,a.Uk)("Счетчик")])),_:1}),(0,a.Wm)(u,{to:"/setup",class:"navigation__item"},{default:(0,a.w5)((()=>[(0,a.Uk)("Настройки поиска")])),_:1})]),(0,a.Wm)(m)],64)}var s={},u=o(89);const m=(0,u.Z)(s,[["render",i]]);var c=m;const l=t=>((0,a.dD)("data-v-5aacf154"),t=t(),(0,a.Cn)(),t),d=l((()=>(0,a._)("a",{href:"https://vk.com/rushinyhunt",class:"footer__url"},"©OnlyShiny",-1))),p=[d];function h(t,e,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",null,p)}var f={};const _=(0,u.Z)(f,[["render",h],["__scopeId","data-v-5aacf154"]]);var k=_;const v=t=>((0,a.dD)("data-v-7c0f3579"),t=t(),(0,a.Cn)(),t),g=v((()=>(0,a._)("h1",{class:"title"},"Only Shiny Counter",-1))),y=[g];function b(t,e,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",null,y)}var w={};const D=(0,u.Z)(w,[["render",b],["__scopeId","data-v-7c0f3579"]]);var S=D;const C={class:"btn"};function O(t,e,o,n,r,i){return(0,a.wg)(),(0,a.iD)("button",C,[(0,a.WI)(t.$slots,"default",{},void 0,!0)])}var j={name:"my-button"};const I=(0,u.Z)(j,[["render",O],["__scopeId","data-v-4b295d18"]]);var P=I;const U=["value"];function R(t,e,o,n,r,i){const s=(0,a.Q2)("focus");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{value:o.modelValue,onInput:e[0]||(e[0]=(...t)=>i.updateInput&&i.updateInput(...t)),type:"text",class:"input"},null,40,U)),[[s]])}var V={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};const M=(0,u.Z)(V,[["render",R],["__scopeId","data-v-3017e5cf"]]);var W=M,Z=[P,W],x={mounted(t){t.focus()}},N=o(2483);function z(t,e,o,n,r,i){const s=(0,a.up)("current-hunt");return(0,a.wg)(),(0,a.j4)(s)}var H=o(65),J=o(7139);const Y=t=>((0,a.dD)("data-v-a1ea56fe"),t=t(),(0,a.Cn)(),t),F={class:"current-hunt card"},G=["src"],q={class:"counter"},E={key:0,class:"counter__number"},T={key:1,class:"counter__number--edit"},$=Y((()=>(0,a._)("p",null,"Всего встреч:",-1))),K={class:"card__name"},L=Y((()=>(0,a._)("strong",null,"Покемон:",-1))),X={class:"card__game"},A=Y((()=>(0,a._)("strong",null,"Игра:",-1))),Q={class:"chance-rate"},B=Y((()=>(0,a._)("strong",null,"Шанс на шайни:",-1)));function tt(t,e,o,n,r,i){const s=(0,a.up)("my-input"),u=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("img",{src:this.pokemonData.url,class:"card__image"},null,8,G),(0,a._)("div",q,[r.editing?((0,a.wg)(),(0,a.iD)("div",T,[$,(0,a.Uk)(),(0,a.Wm)(s,{modelValue:r.pokemonData.counter,"onUpdate:modelValue":e[1]||(e[1]=t=>r.pokemonData.counter=t)},null,8,["modelValue"]),(0,a._)("span",{class:"counter__edit-ok",onClick:e[2]||(e[2]=(...t)=>i.editCountOk&&i.editCountOk(...t))},"Ok")])):((0,a.wg)(),(0,a.iD)("p",E,[(0,a.Uk)("Всего встреч: "+(0,J.zw)(r.pokemonData.counter)+" ",1),(0,a._)("span",{class:"counter__edit",onClick:e[0]||(e[0]=(...t)=>i.editCount&&i.editCount(...t))})])),(0,a._)("div",null,[(0,a.Wm)(u,{class:"minus",onClick:i.removeCount},{default:(0,a.w5)((()=>[(0,a.Uk)("-")])),_:1},8,["onClick"]),(0,a.Wm)(u,{class:"plus",onClick:i.addCount},{default:(0,a.w5)((()=>[(0,a.Uk)("+")])),_:1},8,["onClick"])])]),(0,a._)("p",K,[L,(0,a.Uk)(" "+(0,J.zw)(r.pokemonData.name),1)]),(0,a._)("p",X,[A,(0,a.Uk)(" "+(0,J.zw)(r.pokemonData.game),1)]),(0,a._)("div",Q,[(0,a._)("p",null,[B,(0,a.Uk)(" "+(0,J.zw)(r.pokemonData.shinyRate),1)])])])}var et={data(){return{pokemonData:{counter:0,url:"",id:1,name:"",game:"Pokemon X/Y",shinyRate:"1/4096"},editing:!1}},methods:{getData(){localStorage.getItem("pokemon")||localStorage.setItem("pokemon",JSON.stringify(this.pokemonData)),this.pokemonData=JSON.parse(localStorage.getItem("pokemon")),this.fetchPokemon(this.pokemonData.id)},addCount(){this.pokemonData.counter++,localStorage.setItem("pokemon",JSON.stringify(this.pokemonData))},removeCount(){0!=this.pokemonData.counter&&(this.pokemonData.counter--,localStorage.setItem("pokemon",JSON.stringify(this.pokemonData)))},async fetchPokemon(t){const e=await fetch("https://pokeapi.co/api/v2/pokemon/"+t),o=await e.json();this.pokemonData.url=o.sprites.other.home.front_shiny,this.pokemonData.name=o.name},editCount(){this.editing=!0},editCountOk(){localStorage.setItem("pokemon",JSON.stringify(this.pokemonData)),this.editing=!1}},mounted(){this.getData()}};const ot=(0,u.Z)(et,[["render",tt],["__scopeId","data-v-a1ea56fe"]]);var nt=ot,at={components:{CurrentHunt:nt},data(){return{}},methods:(0,H.nv)(["fetchPokemon"]),computed:(0,H.Se)(["aboutPokemon"])};const rt=(0,u.Z)(at,[["render",z]]);var it=rt;const st=t=>((0,a.dD)("data-v-39cabe9e"),t=t(),(0,a.Cn)(),t),ut={class:"card"},mt={class:"form__setup"},ct=st((()=>(0,a._)("label",null,"Имя покемона (id):",-1))),lt={class:"form__setup"},dt=st((()=>(0,a._)("label",null,"Выберите игру:",-1))),pt=st((()=>(0,a._)("option",{disabled:"",value:""},"Выберите игру",-1))),ht={class:"form__setup"},ft=st((()=>(0,a._)("label",null,"Выберите метод",-1))),_t=st((()=>(0,a._)("option",{disabled:"",value:""},"Выберите метод",-1))),kt={class:"form__setup--radio"},vt=st((()=>(0,a._)("p",null,"Есть ли шайни чарм?",-1))),gt=st((()=>(0,a._)("label",{for:"no",class:"form__label--radio"},"Нет",-1))),yt=st((()=>(0,a._)("label",{for:"yes",class:"form__label--radio"},"Да",-1)));function bt(t,e,o,r,i,s){const u=(0,a.up)("my-input"),m=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",ut,[(0,a._)("form",{method:"post",onSubmit:e[5]||(e[5]=(0,n.iM)((()=>{}),["prevent"])),class:"form"},[(0,a._)("div",mt,[ct,(0,a.Wm)(u,{modelValue:i.form.pokemon,"onUpdate:modelValue":e[0]||(e[0]=t=>i.form.pokemon=t),type:"text",required:""},null,8,["modelValue"])]),(0,a._)("div",lt,[dt,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.obj.game=t),required:"",class:"form__selet"},[pt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.getGames,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t},(0,J.zw)(t),1)))),128))],512),[[n.bM,i.obj.game]])]),(0,a._)("div",ht,[ft,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.form.method=t),required:"",class:"form__selet"},[_t,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.form.methods,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t},(0,J.zw)(t),1)))),128))],512),[[n.bM,i.form.method]])]),(0,a._)("div",kt,[vt,(0,a._)("input",{type:"radio",name:"charm",id:"no",checked:"",onClick:e[3]||(e[3]=e=>0==t.charm)}),gt,(0,a._)("input",{type:"radio",name:"charm",id:"yes",onClick:e[4]||(e[4]=e=>1==t.charm)}),yt]),(0,a.Wm)(m,{type:"submit",class:"form__btn",onClick:s.setupHunt},{default:(0,a.w5)((()=>[(0,a.Uk)("Начать поиск")])),_:1},8,["onClick"])],32)])}o(7658);var wt={data(){return{form:{pokemon:"",method:"",methods:["Soft Reset/Random","Masuda","Friend Safari"],charm:!1,id:""},obj:{id:"",game:"",shinyRate:"",name:"",url:"",counter:0}}},methods:{shinyChanse(){let t;return"Soft Reset/Random"==this.form.method&&0==this.form.charm?t="1/4096":"Soft Reset/Random"==this.form.method&&1==this.form.charm?t="1/1356":"Masuda"==this.form.method&&0==this.form.charm?t="1/689":"Friend Safari"==this.form.method&&0==this.form.charm?t="1/819":"Masuda"==this.form.method&&1==this.form.charm?t="1/512":"Friend Safari"==this.form.method&&1==this.form.charm&&(t="1/585"),t},setupHunt(){this.findPokemon()},async findPokemon(){try{const t=await fetch("https://pokeapi.co/api/v2/pokemon/"+this.form.pokemon),e=await t.json();this.obj.shinyRate=this.shinyChanse(),e.name&&this.obj.game.length>0&&this.obj.shinyRate.length>0&&(this.obj.id=e.id,this.obj.name=e.name,localStorage.setItem("pokemon",JSON.stringify(this.obj)),this.$router.push("/"))}catch{return void alert("Ошибка в имени покемона")}}},computed:{...(0,H.Se)(["getGames"])}};const Dt=(0,u.Z)(wt,[["render",bt],["__scopeId","data-v-39cabe9e"]]);var St=Dt;const Ct=(0,N.p7)({history:(0,N.r5)(),routes:[{path:"/",name:"main",component:it},{path:"/setup",name:"setup",component:St}]});var Ot={actions:{},mutations:{},state:{games:["Pokemon X/Y","Pokemon Omega Ruby/Alpha Sapphire","Pokemon Sun/Moon","Pokemon Ultra Sun/Ultra Moon","Lets Go Pikachu/Eevee","Pokemon Sword/Shield","Pokemon Scarlet/Violet"]},getters:{getGames(t){return t.games}}},jt=(0,H.MT)({modules:{pokemon:Ot}});const It=(0,n.ri)(c);Z.forEach((t=>{It.component(t.name,t)})),It.directive("focus",x),It.use(jt).use(Ct).mount("#app"),(0,n.ri)(S).mount("#header"),(0,n.ri)(k).mount("#footer")}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,n,a,r){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],r=t[c][2];for(var s=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(s=!1,r<i&&(i=r));if(s){t.splice(c--,1);var m=a();void 0!==m&&(e=m)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,a,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,i=n[0],s=n[1],u=n[2],m=0;if(i.some((function(e){return 0!==t[e]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(u)var c=u(o)}for(e&&e(n);m<i.length;m++)r=i[m],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(c)},n=self["webpackChunkshinycounter"]=self["webpackChunkshinycounter"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4026)}));n=o.O(n)})();
//# sourceMappingURL=app.331d2b4e.js.map